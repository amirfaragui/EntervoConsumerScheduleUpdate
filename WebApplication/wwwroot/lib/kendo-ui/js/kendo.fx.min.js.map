{"version":3,"file":"kendo.fx.min.js","names":["global","factory","exports","module","require","define","amd","globalThis","self","kendofx","js","this","$","undefined$1","kendo","window","fx","effects","each","extend","support","matrix3dRegExp","translateXRegExp","oldEffectsRegExp","singleEffectRegExp","transformProps","transform2d","round","Math","PX","AUTO","WIDTH","HEIGHT","HIDDEN","ORIGIN","ABORT_ID","OVERFLOW","POSITION","COMPLETE_CALLBACK","TRANSITIONEND","TRANSITION","TRANSFORM","PERSPECTIVE","DEFAULT_PERSPECTIVE","TRANSFORM_PERSPECTIVE","directions","left","reverse","property","transition","vertical","modifier","right","down","up","top","bottom","in","out","horizontal","parseInteger","value","parseInt","normalizeCSS","element","properties","lowerKey","key","isTransformed","transformation","cssValues","toLowerCase","indexOf","hasHW3D","push","length","join","fn","kendoStop","clearQueue","gotoEnd","stopQueue","toggleClass","classes","options","add","split","exclusive","duration","ease","css","setTimeout","idx","parseEffects","input","mirror","redirectedEffect","test","effect","replace","match","$1","$2","direction","effectBody","timeoutID","delay","oldKeys","data","complete","stopTransitionCalled","stopTransition","clearTimeout","removeData","dequeue","call","speeds","merge","obj","acc","propertyName","keys","hasOwnProperty","uniqueSort","height","unique","one","taskKeys","retainPosition","completeCallback","getComputedStyles","stop","EffectSet","Class","init","that","restore","run","jdx","target","children","childrenLength","deferred","Deferred","start","end","done","bind","setReverse","setOptions","addRestoreProperties","prepare","effectName","is","display","reset","setup","animate","resolve","promise","i","restoreCallback","hide","teardown","effectClass","effectSet","parsedEffects","capitalize","elements","useTransition","strip3DTransforms","queue","show","animatedPromise","Effect","_direction","_additionalEffects","_reverse","play","additional","_duration","compositeRun","concat","_complete","shouldHide","noop","word","charAt","toUpperCase","substring","createEffect","name","definition","prototype","Element","opt1","opt2","opt3","theDirection","FOUR_DIRECTIONS","IN_OUT","createToggleEffect","defaultStart","defaultEnd","startValue","_startValue","endValue","_endValue","_shouldHide","startDataValue","isNaN","divisor","tmp","outerWidth","_outerWidth","outerHeight","_outerHeight","previous","previousDivisor","dir","slideIn","margin","origin","offset","parseFloat","axis","translatex","translatey","setLength","style","oldLength","realLength","overflow","TRANSFER_START_STATE","position","marginLeft","marginTop","scale","appendTo","document","body","outerBox","box","innerBox","currentScale","transform","RegExp","computed","atan2","animationProperty","fillScale","transformOrigin","x","y","CLIPS","ROTATIONS","clipInHalf","container","size","_container","rotation","zIndex","_clipInHalf","clip","append","face","_face","temporary","addClass","opacity","back","temp","reverseDirection","faceClone","clone","removeAttr","backClone","staticPage","turningPage","transformStyle","find","remove","RESTORE_OVERFLOW","mobileOS","android","_before","_after","transitionClass","_previous","_transitionClass","Error","beforeTransition","callback","afterTransition","_both","_element","_containerClass","containerClass","e","removeClass","off","completeProxy","isAbsolute","originalOverflow","parents","filter","first","both","originalPosition","parent","on","animationFrame","Animation","_tickProxy","_tick","_started","tick","onEnd","onCancel","enabled","cancel","Transition","timePassed","min","Date","startDate","moveTo","movable","initial","delta","location","_easeProxy","moveAxis","easeOutExpo","t","b","c","d","pow","easeOutBack","s","result","width","inner","outer","fitScale","max","jQuery"],"sources":["kendo.fx.js"],"mappings":"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","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('kendo.core.js')) :\n    typeof define === 'function' && define.amd ? define(['kendo.core'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, (global.kendofx = global.kendofx || {}, global.kendofx.js = factory()));\n})(this, (function () {\n    let __meta__ = {\n        id: \"fx\",\n        name: \"Effects\",\n        category: \"framework\",\n        description: \"Required for animation effects in all Kendo UI widgets.\",\n        depends: [ \"core\" ]\n    };\n\n    (function($, undefined$1) {\n        let kendo = window.kendo,\n            fx = kendo.effects,\n            each = $.each,\n            extend = $.extend,\n            support = kendo.support,\n            matrix3dRegExp = /matrix3?d?\\s*\\(.*,\\s*([\\d\\.\\-]+)\\w*?,\\s*([\\d\\.\\-]+)\\w*?,\\s*([\\d\\.\\-]+)\\w*?,\\s*([\\d\\.\\-]+)\\w*?/i,\n            translateXRegExp = /translatex?$/i,\n            oldEffectsRegExp = /(zoom|fade|expand)(\\w+)/,\n            singleEffectRegExp = /(zoom|fade|expand)/,\n            transformProps = [\"perspective\", \"rotate\", \"rotatex\", \"rotatey\", \"rotatez\", \"rotate3d\", \"scale\", \"scalex\", \"scaley\", \"scalez\", \"scale3d\", \"skew\", \"skewx\", \"skewy\", \"translate\", \"translatex\", \"translatey\", \"translatez\", \"translate3d\", \"matrix\", \"matrix3d\"],\n            transform2d = [\"rotate\", \"scale\", \"scalex\", \"scaley\", \"skew\", \"skewx\", \"skewy\", \"translate\", \"translatex\", \"translatey\", \"matrix\"],\n            round = Math.round,\n            BLANK = \"\",\n            PX = \"px\",\n            NONE = \"none\",\n            AUTO = \"auto\",\n            WIDTH = \"width\",\n            HEIGHT = \"height\",\n            HIDDEN = \"hidden\",\n            ORIGIN = \"origin\",\n            ABORT_ID = \"abortId\",\n            OVERFLOW = \"overflow\",\n            POSITION = \"position\",\n            COMPLETE_CALLBACK = \"completeCallback\",\n            TRANSITIONEND = \"transitionend\",\n            TRANSITION = \"transition\",\n            TRANSFORM = \"transform\",\n            BACKFACE = \"backface-visibility\",\n            PERSPECTIVE = \"perspective\",\n            DEFAULT_PERSPECTIVE = \"1500px\",\n            TRANSFORM_PERSPECTIVE = \"perspective(\" + DEFAULT_PERSPECTIVE + \")\",\n            directions = {\n                left: {\n                    reverse: \"right\",\n                    property: \"left\",\n                    transition: \"translatex\",\n                    vertical: false,\n                    modifier: -1\n                },\n                right: {\n                    reverse: \"left\",\n                    property: \"left\",\n                    transition: \"translatex\",\n                    vertical: false,\n                    modifier: 1\n                },\n                down: {\n                    reverse: \"up\",\n                    property: \"top\",\n                    transition: \"translatey\",\n                    vertical: true,\n                    modifier: 1\n                },\n                up: {\n                    reverse: \"down\",\n                    property: \"top\",\n                    transition: \"translatey\",\n                    vertical: true,\n                    modifier: -1\n                },\n                top: {\n                    reverse: \"bottom\"\n                },\n                bottom: {\n                    reverse: \"top\"\n                },\n                \"in\": {\n                    reverse: \"out\",\n                    modifier: -1\n                },\n                out: {\n                    reverse: \"in\",\n                    modifier: 1\n                },\n\n                vertical: {\n                    reverse: \"vertical\"\n                },\n\n                horizontal: {\n                    reverse: \"horizontal\"\n                }\n            };\n\n        kendo.directions = directions;\n\n        extend($.fn, {\n            kendoStop: function(clearQueue, gotoEnd) {\n                return fx.stopQueue(this, clearQueue || false, gotoEnd || false);\n            }\n        });\n\n        kendo.toggleClass = function(element, classes, options, add) {\n            if (classes) {\n                classes = classes.split(\" \");\n\n                options = extend({\n                    exclusive: \"all\",\n                    duration: 400,\n                    ease: \"ease-out\"\n                }, options);\n\n                element.css(TRANSITION, options.exclusive + \" \" + options.duration + \"ms \" + options.ease);\n                setTimeout(function() {\n                    element.css(TRANSITION, \"\").css(HEIGHT);\n                }, options.duration); // TODO: this should fire a kendoAnimate session instead.\n\n                each(classes, function(idx, value) {\n                    element.toggleClass(value, add);\n                });\n            }\n\n            return element;\n        };\n\n        kendo.parseEffects = function(input, mirror) {\n            var effects = {};\n\n            if (typeof input === \"string\") {\n                each(input.split(\" \"), function(idx, value) {\n                    var redirectedEffect = !singleEffectRegExp.test(value),\n                        resolved = value.replace(oldEffectsRegExp, function(match, $1, $2) {\n                            return $1 + \":\" + $2.toLowerCase();\n                        }), // Support for old zoomIn/fadeOut style, now deprecated.\n                        effect = resolved.split(\":\"),\n                        direction = effect[1],\n                        effectBody = {};\n\n                    if (effect.length > 1) {\n                        effectBody.direction = (mirror && redirectedEffect ? directions[direction].reverse : direction);\n                    }\n\n                    effects[effect[0]] = effectBody;\n                });\n            } else {\n                each(input, function(idx) {\n                    var direction = this.direction;\n\n                    if (direction && mirror && !singleEffectRegExp.test(idx)) {\n                        this.direction = directions[direction].reverse;\n                    }\n\n                    effects[idx] = this;\n                });\n            }\n\n            return effects;\n        };\n\n        function parseInteger(value) {\n            return parseInt(value, 10);\n        }\n\n        function parseCSS(element, property) {\n            return parseInteger(element.css(property));\n        }\n\n        function keys(obj) {\n            var acc = [];\n            for (var propertyName in obj) {\n                acc.push(propertyName);\n            }\n            return acc;\n        }\n\n        function strip3DTransforms(properties) {\n            for (var key in properties) {\n                if (transformProps.indexOf(key) != -1 && transform2d.indexOf(key) == -1) {\n                    delete properties[key];\n                }\n            }\n\n            return properties;\n        }\n\n        function normalizeCSS(element, properties) {\n            var transformation = [], cssValues = {}, lowerKey, key, value, isTransformed;\n\n            for (key in properties) {\n                lowerKey = key.toLowerCase();\n                isTransformed = transformProps.indexOf(lowerKey) != -1;\n\n                if (!support.hasHW3D && isTransformed && transform2d.indexOf(lowerKey) == -1) {\n                    delete properties[key];\n                } else {\n                    value = properties[key];\n\n                    if (isTransformed) {\n                        transformation.push(key + \"(\" + value + \")\");\n                    } else {\n                        cssValues[key] = value;\n                    }\n                }\n            }\n\n            if (transformation.length) {\n                cssValues[TRANSFORM] = transformation.join(\" \");\n            }\n\n            return cssValues;\n        }\n\n        extend(fx, {\n            transition: function(element, properties, options) {\n                let css,\n                    delay = 0,\n                    oldKeys = element.data(\"keys\") || [],\n                    timeoutID;\n\n                options = extend({\n                    duration: 200,\n                    ease: \"ease-out\",\n                    complete: null,\n                    exclusive: \"all\"\n                },\n                    options\n                );\n\n                let stopTransitionCalled = false;\n\n                let stopTransition = function() {\n                    if (!stopTransitionCalled) {\n                        stopTransitionCalled = true;\n\n                        if (timeoutID) {\n                            clearTimeout(timeoutID);\n                            timeoutID = null;\n                        }\n\n                        element\n                            .removeData(ABORT_ID)\n                            .dequeue()\n                            .css(TRANSITION, \"\")\n                            .css(TRANSITION);\n\n                        options.complete.call(element);\n                    }\n                };\n\n                options.duration = $.fx ? $.fx.speeds[options.duration] || options.duration : options.duration;\n\n                css = normalizeCSS(element, properties);\n\n                $.merge(oldKeys, keys(css));\n\n                if ($.hasOwnProperty(\"uniqueSort\")) {\n                    element\n                        .data(\"keys\", $.uniqueSort(oldKeys))\n                        .height();\n                } else {\n                    element\n                        .data(\"keys\", $.unique(oldKeys))\n                        .height();\n                }\n\n                element.css(TRANSITION, options.exclusive + \" \" + options.duration + \"ms \" + options.ease).css(TRANSITION);\n                element.css(css).css(TRANSFORM);\n\n                /**\n                 * Use transitionEnd event for browsers who support it - but duplicate it with setTimeout, as the transitionEnd event will not be triggered if no CSS properties change.\n                 * This should be cleaned up at some point (widget by widget), and refactored to widgets not relying on the complete callback if no transition occurs.\n                 *\n                 * For IE9 and below, resort to setTimeout.\n                 */\n                element.one(TRANSITIONEND, stopTransition);\n                if (options.duration !== 0) {\n                    delay = 500;\n                }\n\n                timeoutID = setTimeout(stopTransition, options.duration + delay);\n                element.data(ABORT_ID, timeoutID);\n                element.data(COMPLETE_CALLBACK, stopTransition);\n            },\n\n            stopQueue: function(element, clearQueue, gotoEnd) {\n                var cssValues,\n                    taskKeys = element.data(\"keys\"),\n                    retainPosition = (!gotoEnd && taskKeys),\n                    completeCallback = element.data(COMPLETE_CALLBACK);\n\n                if (retainPosition) {\n                    cssValues = kendo.getComputedStyles(element[0], taskKeys);\n                }\n\n                if (completeCallback) {\n                    completeCallback();\n                }\n\n                if (retainPosition) {\n                    element.css(cssValues);\n                }\n\n                return element\n                    .removeData(\"keys\")\n                    .stop(clearQueue);\n            }\n        });\n\n        function animationProperty(element, property) {\n            let transform = element.css(TRANSFORM);\n            if (transform == NONE) {\n                return property == \"scale\" ? 1 : 0;\n            }\n\n            let match = transform.match(new RegExp(property + \"\\\\s*\\\\(([\\\\d\\\\w\\\\.]+)\")),\n                computed = 0;\n\n            if (match) {\n                computed = parseInteger(match[1]);\n            } else {\n                match = transform.match(matrix3dRegExp) || [0, 0, 0, 0, 0];\n                property = property.toLowerCase();\n\n                if (translateXRegExp.test(property)) {\n                    computed = parseFloat(match[3] / match[2]);\n                } else if (property == \"translatey\") {\n                    computed = parseFloat(match[4] / match[2]);\n                } else if (property == \"scale\") {\n                    computed = parseFloat(match[2]);\n                } else if (property == \"rotate\") {\n                    computed = parseFloat(Math.atan2(match[2], match[1]));\n                }\n            }\n\n            return computed;\n        }\n\n        var EffectSet = kendo.Class.extend({\n            init: function(element, options) {\n                var that = this;\n\n                that.element = element;\n                that.effects = [];\n                that.options = options;\n                that.restore = [];\n            },\n\n            run: function(effects) {\n                let that = this,\n                    effect,\n                    idx, jdx,\n                    length = effects.length,\n                    element = that.element,\n                    options = that.options,\n                    deferred = $.Deferred(),\n                    start = {},\n                    end = {},\n                    target,\n                    children,\n                    childrenLength;\n\n                that.effects = effects;\n\n                deferred.done(that.complete.bind(that));\n\n                element.data(\"animating\", true);\n\n                for (idx = 0; idx < length; idx ++) {\n                    effect = effects[idx];\n\n                    effect.setReverse(options.reverse);\n                    effect.setOptions(options);\n\n                    that.addRestoreProperties(effect.restore);\n\n                    effect.prepare(start, end);\n\n                    children = effect.children();\n\n                    for (jdx = 0, childrenLength = children.length; jdx < childrenLength; jdx ++) {\n                        children[jdx].duration(options.duration).run();\n                    }\n                }\n\n                // legacy support for options.properties\n                for (var effectName in options.effects) {\n                    extend(end, options.effects[effectName].properties);\n                }\n\n                // Show the element initially\n                if (!element.is(\":visible\")) {\n                    extend(start, { display: element.data(\"olddisplay\") || \"block\" });\n                }\n\n                if (!options.reset) {\n                    target = element.data(\"targetTransform\");\n\n                    if (target) {\n                        start = extend(target, start);\n                    }\n                }\n\n                start = normalizeCSS(element, start);\n\n                element.css(start)\n                       .css(TRANSFORM); // Nudge\n\n                for (idx = 0; idx < length; idx ++) {\n                    effects[idx].setup();\n                }\n\n                if (options.init) {\n                    options.init();\n                }\n\n                element.data(\"targetTransform\", end);\n                fx.animate(element, end, extend({}, options, { complete: deferred.resolve }));\n\n                return deferred.promise();\n            },\n\n            stop: function() {\n                $(this.element).kendoStop(true, true);\n            },\n\n            addRestoreProperties: function(restore) {\n                var element = this.element,\n                    value,\n                    i = 0,\n                    length = restore.length;\n\n                for (; i < length; i ++) {\n                    value = restore[i];\n\n                    this.restore.push(value);\n\n                    if (!element.data(value)) {\n                        element.data(value, element.css(value));\n                    }\n                }\n            },\n\n            restoreCallback: function() {\n                var element = this.element;\n\n                for (var i = 0, length = this.restore.length; i < length; i ++) {\n                    var value = this.restore[i];\n                    element.css(value, element.data(value));\n                }\n            },\n\n            complete: function() {\n                let that = this,\n                    idx = 0,\n                    element = that.element,\n                    options = that.options,\n                    effects = that.effects,\n                    length = effects.length;\n\n                element\n                    .removeData(\"animating\")\n                    .dequeue(); // call next animation from the queue\n\n                if (options.hide) {\n                    element.data(\"olddisplay\", element.css(\"display\")).hide();\n                }\n\n                this.restoreCallback();\n\n                for (; idx < length; idx ++) {\n                    effects[idx].teardown();\n                }\n\n                if (options.completeCallback) {\n                    options.completeCallback(element);\n                }\n            }\n        });\n\n        fx.promise = function(element, options) {\n            var effects = [],\n                effectClass,\n                effectSet = new EffectSet(element, options),\n                parsedEffects = kendo.parseEffects(options.effects),\n                effect;\n\n            options.effects = parsedEffects;\n\n            for (var effectName in parsedEffects) {\n                effectClass = fx[capitalize(effectName)];\n\n                if (effectClass) {\n                    effect = new effectClass(element, parsedEffects[effectName].direction);\n                    effects.push(effect);\n               }\n            }\n\n            if (effects[0]) {\n                effectSet.run(effects);\n            } else { // Not sure how would an fx promise reach this state - means that you call kendoAnimate with no valid effects? Why?\n                if (!element.is(\":visible\")) {\n                    element.css({ display: element.data(\"olddisplay\") || \"block\" }).css(\"display\");\n                }\n\n                if (options.init) {\n                    options.init();\n                }\n\n                element.dequeue();\n                effectSet.complete();\n            }\n        };\n\n        extend(fx, {\n            animate: function(elements, properties, options) {\n                let useTransition = options.transition !== false;\n                delete options.transition;\n\n                if (\"transition\" in fx && useTransition) {\n                    fx.transition(elements, properties, options);\n                } else {\n                    elements.animate(strip3DTransforms(properties), { queue: false, show: false, hide: false, duration: options.duration, complete: options.complete }); // Stop animate from showing/hiding the element to be able to hide it later on.\n                }\n            }\n        });\n\n        fx.animatedPromise = fx.promise;\n\n        var Effect = kendo.Class.extend({\n            init: function(element, direction) {\n                var that = this;\n                that.element = element;\n                that._direction = direction;\n                that.options = {};\n                that._additionalEffects = [];\n\n                if (!that.restore) {\n                    that.restore = [];\n                }\n            },\n\n    // Public API\n            reverse: function() {\n                this._reverse = true;\n                return this.run();\n            },\n\n            play: function() {\n                this._reverse = false;\n                return this.run();\n            },\n\n            add: function(additional) {\n                this._additionalEffects.push(additional);\n                return this;\n            },\n\n            direction: function(value) {\n                this._direction = value;\n                return this;\n            },\n\n            duration: function(duration) {\n                this._duration = duration;\n                return this;\n            },\n\n            compositeRun: function() {\n                var that = this,\n                    effectSet = new EffectSet(that.element, { reverse: that._reverse, duration: that._duration }),\n                    effects = that._additionalEffects.concat([ that ]);\n\n                return effectSet.run(effects);\n            },\n\n            run: function() {\n                if (this._additionalEffects && this._additionalEffects[0]) {\n                    return this.compositeRun();\n                }\n\n                let that = this,\n                    element = that.element,\n                    idx = 0,\n                    restore = that.restore,\n                    length = restore.length,\n                    value,\n                    deferred = $.Deferred(),\n                    start = {},\n                    end = {},\n                    target,\n                    children = that.children(),\n                    childrenLength = children.length;\n\n                deferred.done(that._complete.bind(that));\n\n                element.data(\"animating\", true);\n\n                for (idx = 0; idx < length; idx ++) {\n                    value = restore[idx];\n\n                    if (!element.data(value)) {\n                        element.data(value, element.css(value));\n                    }\n                }\n\n                for (idx = 0; idx < childrenLength; idx ++) {\n                    children[idx].duration(that._duration).run();\n                }\n\n                that.prepare(start, end);\n\n                if (!element.is(\":visible\")) {\n                    extend(start, { display: element.data(\"olddisplay\") || \"block\" });\n                }\n\n                target = element.data(\"targetTransform\");\n\n                if (target) {\n                    start = extend(target, start);\n                }\n\n                start = normalizeCSS(element, start);\n\n                element.css(start).css(TRANSFORM); // Trick webkit into re-rendering\n\n                that.setup();\n\n                element.data(\"targetTransform\", end);\n                fx.animate(element, end, { duration: that._duration, complete: deferred.resolve });\n\n                return deferred.promise();\n            },\n\n            stop: function() {\n                var idx = 0,\n                    children = this.children(),\n                    childrenLength = children.length;\n\n                for (idx = 0; idx < childrenLength; idx ++) {\n                    children[idx].stop();\n                }\n\n                $(this.element).kendoStop(true, true);\n                return this;\n            },\n\n            restoreCallback: function() {\n                var element = this.element;\n\n                for (var i = 0, length = this.restore.length; i < length; i ++) {\n                    var value = this.restore[i];\n                    element.css(value, element.data(value));\n                }\n            },\n\n            _complete: function() {\n                let that = this,\n                    element = that.element;\n\n                element\n                    .removeData(\"animating\")\n                    .dequeue(); // call next animation from the queue\n\n                that.restoreCallback();\n\n                if (that.shouldHide()) {\n                    element.data(\"olddisplay\", element.css(\"display\")).hide();\n                }\n\n                that.teardown();\n            },\n\n            /////////////////////////// Support for kendo.animate;\n            setOptions: function(options) {\n                extend(true, this.options, options);\n            },\n\n            children: function() {\n                return [];\n            },\n\n            shouldHide: $.noop,\n\n            setup: $.noop,\n            prepare: $.noop,\n            teardown: $.noop,\n            directions: [],\n\n            setReverse: function(reverse) {\n                this._reverse = reverse;\n                return this;\n            }\n        });\n\n        function capitalize(word) {\n            return word.charAt(0).toUpperCase() + word.substring(1);\n        }\n\n        function createEffect(name, definition) {\n            var effectClass = Effect.extend(definition),\n                directions = effectClass.prototype.directions;\n\n            fx[capitalize(name)] = effectClass;\n\n            fx.Element.prototype[name] = function(direction, opt1, opt2, opt3) {\n                return new effectClass(this.element, direction, opt1, opt2, opt3);\n            };\n\n            each(directions, function(idx, theDirection) {\n                fx.Element.prototype[name + capitalize(theDirection)] = function(opt1, opt2, opt3) {\n                    return new effectClass(this.element, theDirection, opt1, opt2, opt3);\n                };\n            });\n        }\n\n        var FOUR_DIRECTIONS = [\"left\", \"right\", \"up\", \"down\"],\n            IN_OUT = [\"in\", \"out\"];\n\n        createEffect(\"slideIn\", {\n            directions: FOUR_DIRECTIONS,\n\n            divisor: function(value) {\n                this.options.divisor = value;\n                return this;\n            },\n\n            prepare: function(start, end) {\n                let that = this,\n                    tmp,\n                    element = that.element,\n                    outerWidth = kendo._outerWidth,\n                    outerHeight = kendo._outerHeight,\n                    direction = directions[that._direction],\n                    offset = -direction.modifier * (direction.vertical ? outerHeight(element) : outerWidth(element)),\n                    startValue = offset / (that.options && that.options.divisor || 1) + PX,\n                    endValue = \"0px\";\n\n                if (that._reverse) {\n                    tmp = start;\n                    start = end;\n                    end = tmp;\n                }\n\n                start[direction.transition] = startValue;\n                end[direction.transition] = endValue;\n            }\n        });\n\n        createEffect(\"tile\", {\n            directions: FOUR_DIRECTIONS,\n\n            init: function(element, direction, previous) {\n                Effect.prototype.init.call(this, element, direction);\n                this.options = { previous: previous };\n            },\n\n            previousDivisor: function(value) {\n                this.options.previousDivisor = value;\n                return this;\n            },\n\n            children: function() {\n                var that = this,\n                    reverse = that._reverse,\n                    previous = that.options.previous,\n                    divisor = that.options.previousDivisor || 1,\n                    dir = that._direction;\n\n                var children = [ kendo.fx(that.element).slideIn(dir).setReverse(reverse) ];\n\n                if (previous) {\n                    children.push( kendo.fx(previous).slideIn(directions[dir].reverse).divisor(divisor).setReverse(!reverse) );\n                }\n\n                return children;\n            }\n        });\n\n        function createToggleEffect(name, property, defaultStart, defaultEnd) {\n            createEffect(name, {\n                directions: IN_OUT,\n\n                startValue: function(value) {\n                    this._startValue = value;\n                    return this;\n                },\n\n                endValue: function(value) {\n                    this._endValue = value;\n                    return this;\n                },\n\n                shouldHide: function() {\n                   return this._shouldHide;\n                },\n\n                prepare: function(start, end) {\n                    var that = this,\n                        startValue,\n                        endValue,\n                        out = this._direction === \"out\",\n                        startDataValue = that.element.data(property),\n                        startDataValueIsSet = !(isNaN(startDataValue) || startDataValue == defaultStart);\n\n                    if (startDataValueIsSet) {\n                        startValue = startDataValue;\n                    } else if (typeof this._startValue !== \"undefined\") {\n                        startValue = this._startValue;\n                    } else {\n                        startValue = out ? defaultStart : defaultEnd;\n                    }\n\n                    if (typeof this._endValue !== \"undefined\") {\n                        endValue = this._endValue;\n                    } else {\n                        endValue = out ? defaultEnd : defaultStart;\n                    }\n\n                    if (this._reverse) {\n                        start[property] = endValue;\n                        end[property] = startValue;\n                    } else {\n                        start[property] = startValue;\n                        end[property] = endValue;\n                    }\n\n                    that._shouldHide = end[property] === defaultEnd;\n                }\n            });\n        }\n\n        createToggleEffect(\"fade\", \"opacity\", 1, 0);\n        createToggleEffect(\"zoom\", \"scale\", 1, 0.01);\n\n        createEffect(\"slideMargin\", {\n            prepare: function(start, end) {\n                var that = this,\n                    element = that.element,\n                    options = that.options,\n                    origin = element.data(ORIGIN),\n                    offset = options.offset,\n                    margin,\n                    reverse = that._reverse;\n\n                if (!reverse && origin === null) {\n                    element.data(ORIGIN, parseFloat(element.css(\"margin-\" + options.axis)));\n                }\n\n                margin = (element.data(ORIGIN) || 0);\n                end[\"margin-\" + options.axis] = !reverse ? margin + offset : margin;\n            }\n        });\n\n        createEffect(\"slideTo\", {\n            prepare: function(start, end) {\n                let that = this,\n                    element = that.element,\n                    options = that.options,\n                    offset = options.offset.split(\",\"),\n                    reverse = that._reverse;\n\n                end.translatex = !reverse ? offset[0] : 0;\n                end.translatey = !reverse ? offset[1] : 0;\n\n                element.css(\"left\");\n            }\n        });\n\n        createEffect(\"expand\", {\n            directions: [\"horizontal\", \"vertical\"],\n\n            restore: [ OVERFLOW ],\n\n            prepare: function(start, end) {\n                var that = this,\n                    element = that.element,\n                    options = that.options,\n                    reverse = that._reverse,\n                    property = that._direction === \"vertical\" ? HEIGHT : WIDTH,\n                    setLength = element[0].style[property],\n                    oldLength = element.data(property),\n                    length = parseFloat(oldLength || setLength),\n                    realLength = round(element.css(property, AUTO)[property]());\n\n                start.overflow = HIDDEN;\n\n                length = (options && options.reset) ? realLength || length : length || realLength;\n\n                end[property] = (reverse ? 0 : length) + PX;\n                start[property] = (reverse ? length : 0) + PX;\n\n                if (oldLength === undefined$1) {\n                    element.data(property, setLength);\n                }\n            },\n\n            shouldHide: function() {\n               return this._reverse;\n            },\n\n            teardown: function() {\n                var that = this,\n                    element = that.element,\n                    property = that._direction === \"vertical\" ? HEIGHT : WIDTH,\n                    length = element.data(property);\n\n                if (length == AUTO || length === BLANK) {\n                    setTimeout(function() { element.css(property, AUTO).css(property); }, 0); // jQuery animate complete callback in IE is called before the last animation step!\n                }\n            }\n        });\n\n        var TRANSFER_START_STATE = { position: \"absolute\", marginLeft: 0, marginTop: 0, scale: 1 };\n        /**\n         * Intersection point formulas are taken from here - http://zonalandeducation.com/mmts/intersections/intersectionOfTwoLines1/intersectionOfTwoLines1.html\n         * Formula for a linear function from two points from here - http://demo.activemath.org/ActiveMath2/search/show.cmd?id=mbase://AC_UK_calculus/functions/ex_linear_equation_two_points\n         * The transform origin point is the intersection point of the two lines from the top left corners/top right corners of the element and target.\n         * The math and variables below MAY BE SIMPLIFIED (zeroes removed), but this would make the formula too cryptic.\n         */\n        createEffect(\"transfer\", {\n            init: function(element, target) {\n                this.element = element;\n                this.options = { target: target };\n                this.restore = [];\n            },\n\n            setup: function() {\n                this.element.appendTo(document.body);\n            },\n\n            prepare: function(start, end) {\n                var that = this,\n                    element = that.element,\n                    outerBox = fx.box(element),\n                    innerBox = fx.box(that.options.target),\n                    currentScale = animationProperty(element, \"scale\"),\n                    scale = fx.fillScale(innerBox, outerBox),\n                    transformOrigin = fx.transformOrigin(innerBox, outerBox);\n\n                extend(start, TRANSFER_START_STATE);\n                end.scale = 1;\n\n                element.css(TRANSFORM, \"scale(1)\").css(TRANSFORM);\n                element.css(TRANSFORM, \"scale(\" + currentScale + \")\");\n\n                start.top = outerBox.top;\n                start.left = outerBox.left;\n                start.transformOrigin = transformOrigin.x + PX + \" \" + transformOrigin.y + PX;\n\n                if (that._reverse) {\n                    start.scale = scale;\n                } else {\n                    end.scale = scale;\n                }\n            }\n        });\n\n\n        var CLIPS = {\n            top: \"rect(auto auto $size auto)\",\n            bottom: \"rect($size auto auto auto)\",\n            left: \"rect(auto $size auto auto)\",\n            right: \"rect(auto auto auto $size)\"\n        };\n\n        var ROTATIONS = {\n            top: { start: \"rotatex(0deg)\", end: \"rotatex(180deg)\" },\n            bottom: { start: \"rotatex(-180deg)\", end: \"rotatex(0deg)\" },\n            left: { start: \"rotatey(0deg)\", end: \"rotatey(-180deg)\" },\n            right: { start: \"rotatey(180deg)\", end: \"rotatey(0deg)\" }\n        };\n\n        function clipInHalf(container, direction) {\n            var vertical = kendo.directions[direction].vertical,\n                size = (container[vertical ? HEIGHT : WIDTH]() / 2) + \"px\";\n\n            return CLIPS[direction].replace(\"$size\", size);\n        }\n\n        createEffect(\"turningPage\", {\n            directions: FOUR_DIRECTIONS,\n\n            init: function(element, direction, container) {\n                Effect.prototype.init.call(this, element, direction);\n                this._container = container;\n            },\n\n            prepare: function(start, end) {\n                var that = this,\n                    reverse = that._reverse,\n                    direction = reverse ? directions[that._direction].reverse : that._direction,\n                    rotation = ROTATIONS[direction];\n\n                start.zIndex = 1;\n\n                if (that._clipInHalf) {\n                   start.clip = clipInHalf(that._container, kendo.directions[direction].reverse);\n                }\n\n                start[BACKFACE] = HIDDEN;\n\n                end[TRANSFORM] = TRANSFORM_PERSPECTIVE + (reverse ? rotation.start : rotation.end);\n                start[TRANSFORM] = TRANSFORM_PERSPECTIVE + (reverse ? rotation.end : rotation.start);\n            },\n\n            setup: function() {\n                this._container.append(this.element);\n            },\n\n            face: function(value) {\n                this._face = value;\n                return this;\n            },\n\n            shouldHide: function() {\n                var that = this,\n                    reverse = that._reverse,\n                    face = that._face;\n\n                return (reverse && !face) || (!reverse && face);\n            },\n\n            clipInHalf: function(value) {\n                this._clipInHalf = value;\n                return this;\n            },\n\n            temporary: function() {\n                this.element.addClass('temp-page');\n                return this;\n            }\n        });\n\n        createEffect(\"staticPage\", {\n            directions: FOUR_DIRECTIONS,\n\n            init: function(element, direction, container) {\n                Effect.prototype.init.call(this, element, direction);\n                this._container = container;\n            },\n\n            restore: [\"clip\"],\n\n            prepare: function(start, end) {\n                var that = this,\n                    direction = that._reverse ? directions[that._direction].reverse : that._direction;\n\n                start.clip = clipInHalf(that._container, direction);\n                start.opacity = 0.999;\n                end.opacity = 1;\n            },\n\n            shouldHide: function() {\n                var that = this,\n                    reverse = that._reverse,\n                    face = that._face;\n\n                return (reverse && !face) || (!reverse && face);\n            },\n\n            face: function(value) {\n                this._face = value;\n                return this;\n            }\n        });\n\n        createEffect(\"pageturn\", {\n            directions: [\"horizontal\", \"vertical\"],\n\n            init: function(element, direction, face, back) {\n                Effect.prototype.init.call(this, element, direction);\n                this.options = {};\n                this.options.face = face;\n                this.options.back = back;\n            },\n\n            children: function() {\n                var that = this,\n                    options = that.options,\n                    direction = that._direction === \"horizontal\" ? \"left\" : \"top\",\n                    reverseDirection = kendo.directions[direction].reverse,\n                    reverse = that._reverse,\n                    temp,\n                    faceClone = options.face.clone(true).removeAttr(\"id\"),\n                    backClone = options.back.clone(true).removeAttr(\"id\"),\n                    element = that.element;\n\n                if (reverse) {\n                    temp = direction;\n                    direction = reverseDirection;\n                    reverseDirection = temp;\n                }\n\n                return [\n                    kendo.fx(options.face).staticPage(direction, element).face(true).setReverse(reverse),\n                    kendo.fx(options.back).staticPage(reverseDirection, element).setReverse(reverse),\n                    kendo.fx(faceClone).turningPage(direction, element).face(true).clipInHalf(true).temporary().setReverse(reverse),\n                    kendo.fx(backClone).turningPage(reverseDirection, element).clipInHalf(true).temporary().setReverse(reverse)\n                ];\n            },\n\n            prepare: function(start, end) {\n                start[PERSPECTIVE] = DEFAULT_PERSPECTIVE;\n                start.transformStyle = \"preserve-3d\";\n                // hack to trigger transition end.\n                start.opacity = 0.999;\n                end.opacity = 1;\n            },\n\n            teardown: function() {\n                this.element.find(\".temp-page\").remove();\n            }\n        });\n\n        createEffect(\"flip\", {\n            directions: [\"horizontal\", \"vertical\"],\n\n            init: function(element, direction, face, back) {\n                Effect.prototype.init.call(this, element, direction);\n                this.options = {};\n                this.options.face = face;\n                this.options.back = back;\n            },\n\n            children: function() {\n                var that = this,\n                    options = that.options,\n                    direction = that._direction === \"horizontal\" ? \"left\" : \"top\",\n                    reverseDirection = kendo.directions[direction].reverse,\n                    reverse = that._reverse,\n                    temp,\n                    element = that.element;\n\n                if (reverse) {\n                    temp = direction;\n                    direction = reverseDirection;\n                    reverseDirection = temp;\n                }\n\n                return [\n                    kendo.fx(options.face).turningPage(direction, element).face(true).setReverse(reverse),\n                    kendo.fx(options.back).turningPage(reverseDirection, element).setReverse(reverse)\n                ];\n            },\n\n            prepare: function(start) {\n                start[PERSPECTIVE] = DEFAULT_PERSPECTIVE;\n                start.transformStyle = \"preserve-3d\";\n            }\n        });\n\n        var RESTORE_OVERFLOW = !support.mobileOS.android;\n        var IGNORE_TRANSITION_EVENT_SELECTOR = \".km-touch-scrollbar, .km-actionsheet-wrapper\";\n\n        createEffect(\"replace\", {\n            _before: $.noop,\n            _after: $.noop,\n            init: function(element, previous, transitionClass) {\n                Effect.prototype.init.call(this, element);\n                this._previous = $(previous);\n                this._transitionClass = transitionClass;\n            },\n\n            duration: function() {\n                throw new Error(\"The replace effect does not support duration setting; the effect duration may be customized through the transition class rule\");\n            },\n\n            beforeTransition: function(callback) {\n                this._before = callback;\n                return this;\n            },\n\n            afterTransition: function(callback) {\n                this._after = callback;\n                return this;\n            },\n\n            _both: function() {\n                return $().add(this._element).add(this._previous);\n            },\n\n            _containerClass: function() {\n                var direction = this._direction,\n                    containerClass = \"k-fx k-fx-start k-fx-\" + this._transitionClass;\n\n                if (direction) {\n                    containerClass += \" k-fx-\" + direction;\n                }\n\n                if (this._reverse) {\n                    containerClass += \" k-fx-reverse\";\n                }\n\n                return containerClass;\n            },\n\n            complete: function(e) {\n                if (!this.deferred || (e && $(e.target).is(IGNORE_TRANSITION_EVENT_SELECTOR))) {\n                    return;\n                }\n\n                var container = this.container;\n\n                container\n                    .removeClass(\"k-fx-end\")\n                    .removeClass(this._containerClass())\n                    .off(TRANSITIONEND, this.completeProxy);\n\n                this._previous.hide().removeClass(\"k-fx-current\");\n                this.element.removeClass(\"k-fx-next\");\n\n                if (RESTORE_OVERFLOW) {\n                    container.css(OVERFLOW, \"\");\n                }\n\n                if (!this.isAbsolute) {\n                    this._both().css(POSITION, \"\");\n                }\n\n                this.deferred.resolve();\n                delete this.deferred;\n            },\n\n            run: function() {\n                if (this._additionalEffects && this._additionalEffects[0]) {\n                    return this.compositeRun();\n                }\n\n                let that = this,\n                    element = that.element,\n                    previous = that._previous,\n                    container = element.parents().filter(previous.parents()).first(),\n                    both = that._both(),\n                    deferred = $.Deferred(),\n                    originalPosition = element.css(POSITION),\n                    originalOverflow;\n\n                // edge case for grid/scheduler, where the previous is already destroyed.\n                if (!container.length) {\n                    container = element.parent();\n                }\n\n                this.container = container;\n                this.deferred = deferred;\n                this.isAbsolute = originalPosition == \"absolute\";\n\n                if (!this.isAbsolute) {\n                    both.css(POSITION, \"absolute\");\n                }\n\n                if (RESTORE_OVERFLOW) {\n                    originalOverflow = container.css(OVERFLOW);\n                    container.css(OVERFLOW, \"hidden\");\n                }\n\n                element.addClass(\"k-fx-hidden\");\n\n                container.addClass(this._containerClass());\n\n                this.completeProxy = this.complete.bind(this);\n                container.on(TRANSITIONEND, this.completeProxy);\n\n                kendo.animationFrame(function() {\n                    element.removeClass(\"k-fx-hidden\").addClass(\"k-fx-next\");\n                    previous.css(\"display\", \"\").addClass(\"k-fx-current\");\n                    that._before(previous, element);\n                    kendo.animationFrame(function() {\n                        container.removeClass(\"k-fx-start\").addClass(\"k-fx-end\");\n                        that._after(previous, element);\n                    });\n                });\n\n                return deferred.promise();\n            },\n\n            stop: function() {\n                this.complete();\n            }\n        });\n\n        var Animation = kendo.Class.extend({\n            init: function() {\n                var that = this;\n                that._tickProxy = that._tick.bind(that);\n                that._started = false;\n            },\n\n            tick: $.noop,\n            done: $.noop,\n            onEnd: $.noop,\n            onCancel: $.noop,\n\n            start: function() {\n                if (!this.enabled()) {\n                    return;\n                }\n\n                if (!this.done()) {\n                    this._started = true;\n                    kendo.animationFrame(this._tickProxy);\n                } else {\n                    this.onEnd();\n                }\n            },\n\n            enabled: function() {\n                return true;\n            },\n\n            cancel: function() {\n                this._started = false;\n                this.onCancel();\n            },\n\n            _tick: function() {\n                var that = this;\n                if (!that._started) { return; }\n\n                that.tick();\n\n                if (!that.done()) {\n                    kendo.animationFrame(that._tickProxy);\n                } else {\n                    that._started = false;\n                    that.onEnd();\n                }\n            }\n        });\n\n        var Transition = Animation.extend({\n            init: function(options) {\n                var that = this;\n                extend(that, options);\n                Animation.fn.init.call(that);\n            },\n\n            done: function() {\n                return this.timePassed() >= this.duration;\n            },\n\n            timePassed: function() {\n                return Math.min(this.duration, (new Date()) - this.startDate);\n            },\n\n            moveTo: function(options) {\n                var that = this,\n                    movable = that.movable;\n\n                that.initial = movable[that.axis];\n                that.delta = options.location - that.initial;\n\n                that.duration = typeof options.duration == \"number\" ? options.duration : 300;\n\n                that.tick = that._easeProxy(options.ease);\n\n                that.startDate = new Date();\n                that.start();\n            },\n\n            _easeProxy: function(ease) {\n                var that = this;\n\n                return function() {\n                    that.movable.moveAxis(that.axis, ease(that.timePassed(), that.initial, that.delta, that.duration));\n                };\n            }\n        });\n\n        extend(Transition, {\n            easeOutExpo: function(t, b, c, d) {\n                return (t == d) ? b + c : c * (-Math.pow(2, -10 * t / d) + 1) + b;\n            },\n\n            easeOutBack: function(t, b, c, d, s) {\n                s = 1.70158;\n                return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n            }\n        });\n\n        fx.Animation = Animation;\n        fx.Transition = Transition;\n        fx.createEffect = createEffect;\n\n        fx.box = function(element) {\n            element = $(element);\n            var result = element.offset();\n            result.width = kendo._outerWidth(element);\n            result.height = kendo._outerHeight(element);\n            return result;\n        };\n\n        fx.transformOrigin = function(inner, outer) {\n            var x = (inner.left - outer.left) * outer.width / (outer.width - inner.width),\n                y = (inner.top - outer.top) * outer.height / (outer.height - inner.height);\n\n            return {\n                x: isNaN(x) ? 0 : x,\n                y: isNaN(y) ? 0 : y\n            };\n        };\n\n        fx.fillScale = function(inner, outer) {\n            return Math.min(inner.width / outer.width, inner.height / outer.height);\n        };\n\n        fx.fitScale = function(inner, outer) {\n            return Math.max(inner.width / outer.width, inner.height / outer.height);\n        };\n    })(window.kendo.jQuery);\n    var kendo$1 = kendo;\n\n    return kendo$1;\n\n}));\n"]}